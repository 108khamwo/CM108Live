<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CM108 Mobile Unit</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        /* Reset ‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠ */
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; font-family: 'Prompt', sans-serif; }

        /* --- LOBBY (‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á) --- */
        #lobby { 
            position: absolute; inset: 0; z-index: 100; background: #0a0a0a; 
            display: flex; flex-direction: column; padding: 20px; 
            overflow-y: auto; text-align: center;
        }
        h1 { color: #ff3b30; margin: 10px 0 20px; font-size: 24px; }
        
        .label { color: #666; font-size: 13px; margin: 15px 0 10px; border-bottom: 1px solid #333; padding-bottom: 5px; text-align: left; }
        
        /* Grid Mode */
        .mode-box { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
        .m-btn { background: #1a1a1a; border: 1px solid #333; border-radius: 12px; padding: 15px 5px; color: #aaa; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .m-btn.active { background: #ff3b30; border-color: #ff3b30; color: white; }
        
        /* Grid Cam */
        .cam-box { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .c-card { background: #222; border: 1px solid #333; border-radius: 12px; padding: 20px 0; cursor: pointer; }
        .c-card:active { border-color: #ff3b30; background: #333; }
        .c-card strong { display: block; font-size: 18px; color: white; margin-bottom: 5px; }

        /* --- LIVE FRAME --- */
        #live-layer { display: none; position: fixed; inset: 0; background: #000; z-index: 50; }
        iframe { width: 100%; height: 100%; border: none; }

        /* ‡∏õ‡∏∏‡πà‡∏° Home ‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
        .home-btn {
            position: absolute; top: 10px; right: 10px; z-index: 1000;
            background: rgba(255, 0, 0, 0.5); color: white; border: none;
            padding: 5px 10px; border-radius: 15px; font-size: 10px; cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="lobby">
        <h1>CM108 LIVE</h1>
        
        <div class="label">1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î</div>
        <div class="mode-box">
            <div class="m-btn active" id="m-hq" onclick="setMode('hq')"><span>üíé</span><span>‡∏ä‡∏±‡∏î</span></div>
            <div class="m-btn" id="m-safe" onclick="setMode('safe')"><span>üõ°Ô∏è</span><span>‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£</span></div>
            <div class="m-btn" id="m-auto" onclick="setMode('auto')"><span>ü§ñ</span><span>‡∏≠‡∏≠‡πÇ‡∏ï‡πâ</span></div>
        </div>

        <div class="label">2. ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏° (‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ Ninja ‡∏õ‡∏Å‡∏ï‡∏¥)</div>
        <div class="cam-box">
            <div class="c-card" onclick="start('CM108_Cam1')"><strong>CAM 01</strong><br><span style="color:#888;font-size:11px;">‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å</span></div>
            <div class="c-card" onclick="start('CM108_Cam2')"><strong>CAM 02</strong><br><span style="color:#888;font-size:11px;">‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á</span></div>
            <div class="c-card" onclick="start('CM108_Cam3')"><strong>CAM 03</strong><br><span style="color:#888;font-size:11px;">‡∏°‡∏∏‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á</span></div>
            <div class="c-card" onclick="start('CM108_Cam4')"><strong>CAM 04</strong><br><span style="color:#888;font-size:11px;">‡πÇ‡∏î‡∏£‡∏ô</span></div>
        </div>
        <p style="margin-top:20px; color:#555; font-size:11px;">* ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ VDO.Ninja ‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö</p>
    </div>

    <div id="live-layer">
        <button class="home-btn" onclick="location.reload()">‚èπ HOME</button>
        <iframe id="vid" allow="camera;microphone;fullscreen;display-capture;autoplay"></iframe>
    </div>

    <script>
        let currMode = 'hq';

        function setMode(m) {
            currMode = m;
            document.querySelectorAll('.m-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('m-' + m).classList.add('active');
        }

        function start(id) {
            let p = "";
            if(currMode === 'hq') p = "&width=1920&height=1080&videobitrate=8000&framerate=60&quality=0";
            else if(currMode === 'safe') p = "&width=1280&height=720&bitrate=2500&framerate=30&buffer=2000";
            else p = "&quality=1&meshcast";

            // KEY CHANGES:
            // &clean=0 : ‡πÑ‡∏°‡πà‡∏•‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏•‡∏¢ (‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏õ‡∏Å‡∏ï‡∏¥)
            // &viewchat=1 : ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ä‡∏ó‡∏Ç‡∏≠‡∏á Ninja
            // &select : ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°
            // &autostart : ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á
            let url = "https://vdo.ninja/?push=" + id + "&room=CM108_NewsRoom" + p + 
                      "&clean=0&viewchat=1&api=1&autostart&select&label=" + id;

            document.getElementById('vid').src = url;
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('live-layer').style.display = 'block';
        }
    </script>
</body>
</html>
