<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CM108 Mobile Unit (Stable)</title>
    <style>
        body { margin: 0; padding: 0; background-color: #0d0d0d; color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; overflow: hidden; }
        
        /* ‡∏´‡∏ô‡πâ‡∏≤ Lobby */
        #lobby { text-align: center; width: 100%; max-width: 480px; padding: 20px; box-sizing: border-box; }
        h1 { margin-bottom: 5px; font-size: 28px; color: #ff3b30; text-transform: uppercase; letter-spacing: 2px; }
        .subtitle { color: #888; margin-bottom: 25px; font-size: 14px; }
        
        .section-title { text-align: left; color: #666; font-size: 12px; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        
        .btn-group { display: grid; gap: 12px; margin-bottom: 20px; }
        
        .btn {
            background: linear-gradient(145deg, #1e1e1e, #2a2a2a);
            border: 1px solid #444;
            color: white;
            padding: 18px;
            font-size: 18px;
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            transition: 0.2s;
            text-align: left;
        }
        .btn:active { transform: scale(0.98); border-color: #ff3b30; }
        .btn-content { display: flex; flex-direction: column; }
        .btn strong { font-size: 18px; color: #fff; display: block; }
        .btn span { font-size: 12px; color: #888; margin-top: 4px; }
        .btn .icon { font-size: 24px; }

        /* ‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ */
        .btn.stable { border-color: #28a745; background: linear-gradient(145deg, #152e1b, #1e3a24); }
        .btn.stable strong { color: #28a745; }

        /* ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á */
        #cam-container { display: none; width: 100%; height: 100%; position: absolute; top: 0; left: 0; background: black; }
        iframe { width: 100%; height: 100%; border: none; }
        
        /* ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô */
        .controls { position: absolute; top: 20px; left: 20px; z-index: 999; display: flex; gap: 10px; }
        .ctrl-btn { background: rgba(0, 0, 0, 0.6); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px 15px; border-radius: 50px; font-size: 14px; cursor: pointer; backdrop-filter: blur(5px); }
        .ctrl-btn.red { background: rgba(220, 53, 69, 0.8); border: none; }
    </style>
</head>
<body>

    <div id="lobby">
        <h1>üî¥ CM108 Live</h1>
        <div class="subtitle">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì</div>
        
        <div class="section-title">üöÄ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì 5G / WiFi ‡πÅ‡∏£‡∏á</div>
        <div class="btn-group">
            <div class="btn" onclick="startStream('CM108_Cam1', 'hq')">
                <div class="btn-content">
                    <strong>‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏Å 1 (HQ)</strong>
                    <span>1080p | 60fps | 6 Mbps</span>
                </div>
                <div class="icon">üé•</div>
            </div>
            
            <div class="btn" onclick="startStream('CM108_Cam2', 'hq')">
                <div class="btn-content">
                    <strong>‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á 2 (HQ)</strong>
                    <span>1080p | 60fps | 6 Mbps</span>
                </div>
                <div class="icon">üé•</div>
            </div>
        </div>

        <div class="section-title">üõ°Ô∏è ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏≠‡πà‡∏≠‡∏ô / ‡∏Ñ‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞</div>
        <div class="btn-group">
            <div class="btn stable" onclick="startStream('CM108_Cam1', 'stable')">
                <div class="btn-content">
                    <strong>‡∏Å‡∏•‡πâ‡∏≠‡∏á 1 (‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£)</strong>
                    <span>720p | ‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏© | ‡∏Å‡∏±‡∏ô‡∏†‡∏≤‡∏û‡∏Ñ‡πâ‡∏≤‡∏á</span>
                </div>
                <div class="icon">üõ°Ô∏è</div>
            </div>

            <div class="btn stable" onclick="startStream('CM108_Cam2', 'stable')">
                <div class="btn-content">
                    <strong>‡∏Å‡∏•‡πâ‡∏≠‡∏á 2 (‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£)</strong>
                    <span>720p | ‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏© | ‡∏Å‡∏±‡∏ô‡∏†‡∏≤‡∏û‡∏Ñ‡πâ‡∏≤‡∏á</span>
                </div>
                <div class="icon">üõ°Ô∏è</div>
            </div>
        </div>
    </div>

    <div id="cam-container">
        <div class="controls">
            <button class="ctrl-btn red" onclick="location.reload()">‚èπ ‡∏´‡∏¢‡∏∏‡∏î/‡∏≠‡∏≠‡∏Å</button>
            <button class="ctrl-btn" onclick="document.getElementById('stream-frame').src = document.getElementById('stream-frame').src">üîÑ ‡∏£‡∏µ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì</button>
        </div>
        <iframe id="stream-frame" allow="camera;microphone;fullscreen;display-capture;autoplay"></iframe>
    </div>

    <script>
        function startStream(camId, mode) {
            let params = "";

            if (mode === 'hq') {
                // üöÄ ‡πÇ‡∏´‡∏°‡∏î HQ: ‡πÄ‡∏ô‡πâ‡∏ô‡∏ä‡∏±‡∏î (‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡πÄ‡∏ô‡πá‡∏ï‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á 6Mbps ‡∏≠‡∏≤‡∏à‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å)
                // buffer=300 : ‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡πå‡∏ô‡πâ‡∏≠‡∏¢ (0.3‡∏ß‡∏¥)
                params = "&width=1920&height=1080&framerate=60&videobitrate=6000&quality=0&buffer=300";
            } else {
                // üõ°Ô∏è ‡πÇ‡∏´‡∏°‡∏î Stable: ‡πÄ‡∏ô‡πâ‡∏ô‡∏•‡∏∑‡πà‡∏ô (‡∏†‡∏≤‡∏û‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏Ñ‡∏°‡∏Å‡∏£‡∏¥‡∏ö ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏Ñ‡πâ‡∏≤‡∏á‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô)
                // quality=1 : ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ô‡πá‡∏ï‡πÅ‡∏¢‡πà (‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏†‡∏≤‡∏û‡∏Ñ‡πâ‡∏≤‡∏á)
                // scale=50 : ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ô‡πá‡∏ï‡πÅ‡∏¢‡πà‡∏°‡∏≤‡∏Å ‡πÉ‡∏´‡πâ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏†‡∏≤‡∏û‡∏•‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 50%
                // buffer=2000 : ‡∏ñ‡∏±‡∏á‡∏û‡∏±‡∏Å 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡∏Å‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
                // maxbitrate=2500 : ‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏û‡∏î‡∏≤‡∏ô‡∏ö‡∏¥‡∏ï‡πÄ‡∏£‡∏ï‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏ô‡∏ï‡∏±‡∏ß
                // mesh : ‡πÉ‡∏ä‡πâ‡πÇ‡∏´‡∏°‡∏î Mesh ‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
                params = "&width=1280&height=720&framerate=30&maxbitrate=2500&quality=1&scale=50&buffer=2000&mesh&degrade";
            }

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á URL
            // pwa : ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π
            // facing=environment : ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á
            var streamUrl = "https://vdo.ninja/?push=" + camId + 
                            "&room=CM108_NewsRoom" + 
                            params + 
                            "&pwa&autostart&label=" + camId + 
                            "&facing=environment";

            document.getElementById('stream-frame').src = streamUrl;
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('cam-container').style.display = 'block';
        }
    </script>
</body>
</html>
